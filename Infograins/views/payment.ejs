<!DOCTYPE html>
<html>

<head>
  <title>Payment</title>
  <link rel="stylesheet" href="/css/styles.css">
  <script>
    function addItem() {
      const container = document.getElementById('items-container');
      const itemHtml = `
        <div class="item">
          <input type="text" name="items[][name]" placeholder="Item Name" required>
          <input type="number" name="items[][price]" placeholder="Price" required>
          <input type="number" name="items[][quantity]" placeholder="Quantity" required>
          <button type="button" onclick="removeItem(this)">Remove</button>
        </div>`;
      container.insertAdjacentHTML('beforeend', itemHtml);
    }

    function removeItem(button) {
      button.parentElement.remove();
    }
  </script>
</head>

<body>
  <%- include('partials/header') %>
    <h1>Payment</h1>
    <form action="/payment/create-payment-intent" method="POST">
      <div id="items-container">
        <div class="item">
          <input type="text" name="items[][name]" placeholder="Item Name" required>
          <input type="number" name="items[][price]" placeholder="Price" required>
          <input type="number" name="items[][quantity]" placeholder="Quantity" required>
          <button type="button" onclick="removeItem(this)">Remove</button>
        </div>
      </div>
      <button type="button" onclick="addItem()">Add Another Item</button>
      <button style="color: gainsboro;
      background: green;
      font-size: medium;
      font-family: sans-serif;" type="submit">Checkout</button>
    </form>
    <%- include('partials/footer') %>
</body>

</html>